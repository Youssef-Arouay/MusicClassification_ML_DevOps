{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common/http\";\nexport class FileUploadComponent {\n  constructor(http) {\n    this.http = http;\n    this.selectedFile = null;\n    this.predictionResult = '';\n    this.errorMessage = '';\n  }\n  onFileSelected(event) {\n    if (event.target.files && event.target.files.length > 0) {\n      this.selectedFile = event.target.files[0];\n    }\n  }\n  onUpload() {\n    if (!this.selectedFile) {\n      this.errorMessage = 'Please select a file first!';\n      return;\n    }\n    const formData = new FormData();\n    formData.append('file', this.selectedFile);\n    this.http.post('http://127.0.0.1:5000/predict', formData).subscribe({\n      next: response => {\n        this.predictionResult = `Predicted genre: ${response.genre}`;\n        this.errorMessage = '';\n      },\n      error: error => {\n        this.errorMessage = `Error: ${error.message}`;\n        this.predictionResult = '';\n      }\n    });\n  }\n  static {\n    this.ɵfac = function FileUploadComponent_Factory(t) {\n      return new (t || FileUploadComponent)(i0.ɵɵdirectiveInject(i1.HttpClient));\n    };\n  }\n  static {\n    this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: FileUploadComponent,\n      selectors: [[\"app-file-upload\"]],\n      decls: 2,\n      vars: 0,\n      template: function FileUploadComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵelementStart(0, \"p\");\n          i0.ɵɵtext(1, \"file-upload works!\");\n          i0.ɵɵelementEnd();\n        }\n      },\n      styles: [\"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n    });\n  }\n}","map":{"version":3,"names":["FileUploadComponent","constructor","http","selectedFile","predictionResult","errorMessage","onFileSelected","event","target","files","length","onUpload","formData","FormData","append","post","subscribe","next","response","genre","error","message","i0","ɵɵdirectiveInject","i1","HttpClient","selectors","decls","vars","template","FileUploadComponent_Template","rf","ctx","ɵɵelementStart","ɵɵtext","ɵɵelementEnd"],"sources":["C:\\Users\\Mabrouk Youssef\\Desktop\\bachka\\Front\\src\\app\\file-upload\\file-upload.component.ts","C:\\Users\\Mabrouk Youssef\\Desktop\\bachka\\Front\\src\\app\\file-upload\\file-upload.component.html"],"sourcesContent":["import { Component } from '@angular/core';\nimport { HttpClient, HttpErrorResponse } from '@angular/common/http';\n\n@Component({\n  selector: 'app-file-upload',\n  templateUrl: './file-upload.component.html',\n  styleUrls: ['./file-upload.component.css']\n})\nexport class FileUploadComponent {\n  selectedFile: File | null = null;\n  predictionResult: string = '';\n  errorMessage: string = '';\n\n  constructor(private http: HttpClient) {}\n\n  onFileSelected(event: any): void {\n    if (event.target.files && event.target.files.length > 0) {\n      this.selectedFile = event.target.files[0];\n    }\n  }\n\n  onUpload(): void {\n    if (!this.selectedFile) {\n      this.errorMessage = 'Please select a file first!';\n      return;\n    }\n\n    const formData = new FormData();\n    formData.append('file', this.selectedFile);\n\n    this.http.post<{ genre: string }>('http://127.0.0.1:5000/predict', formData)\n      .subscribe({\n        next: (response) => {\n          this.predictionResult = `Predicted genre: ${response.genre}`;\n          this.errorMessage = '';\n        },\n        error: (error: HttpErrorResponse) => {\n          this.errorMessage = `Error: ${error.message}`;\n          this.predictionResult = '';\n        }\n      });\n  }\n}\n","<p>file-upload works!</p>\n"],"mappings":";;AAQA,OAAM,MAAOA,mBAAmB;EAK9BC,YAAoBC,IAAgB;IAAhB,KAAAA,IAAI,GAAJA,IAAI;IAJxB,KAAAC,YAAY,GAAgB,IAAI;IAChC,KAAAC,gBAAgB,GAAW,EAAE;IAC7B,KAAAC,YAAY,GAAW,EAAE;EAEc;EAEvCC,cAAcA,CAACC,KAAU;IACvB,IAAIA,KAAK,CAACC,MAAM,CAACC,KAAK,IAAIF,KAAK,CAACC,MAAM,CAACC,KAAK,CAACC,MAAM,GAAG,CAAC,EAAE;MACvD,IAAI,CAACP,YAAY,GAAGI,KAAK,CAACC,MAAM,CAACC,KAAK,CAAC,CAAC,CAAC;;EAE7C;EAEAE,QAAQA,CAAA;IACN,IAAI,CAAC,IAAI,CAACR,YAAY,EAAE;MACtB,IAAI,CAACE,YAAY,GAAG,6BAA6B;MACjD;;IAGF,MAAMO,QAAQ,GAAG,IAAIC,QAAQ,EAAE;IAC/BD,QAAQ,CAACE,MAAM,CAAC,MAAM,EAAE,IAAI,CAACX,YAAY,CAAC;IAE1C,IAAI,CAACD,IAAI,CAACa,IAAI,CAAoB,+BAA+B,EAAEH,QAAQ,CAAC,CACzEI,SAAS,CAAC;MACTC,IAAI,EAAGC,QAAQ,IAAI;QACjB,IAAI,CAACd,gBAAgB,GAAG,oBAAoBc,QAAQ,CAACC,KAAK,EAAE;QAC5D,IAAI,CAACd,YAAY,GAAG,EAAE;MACxB,CAAC;MACDe,KAAK,EAAGA,KAAwB,IAAI;QAClC,IAAI,CAACf,YAAY,GAAG,UAAUe,KAAK,CAACC,OAAO,EAAE;QAC7C,IAAI,CAACjB,gBAAgB,GAAG,EAAE;MAC5B;KACD,CAAC;EACN;;;uBAjCWJ,mBAAmB,EAAAsB,EAAA,CAAAC,iBAAA,CAAAC,EAAA,CAAAC,UAAA;IAAA;EAAA;;;YAAnBzB,mBAAmB;MAAA0B,SAAA;MAAAC,KAAA;MAAAC,IAAA;MAAAC,QAAA,WAAAC,6BAAAC,EAAA,EAAAC,GAAA;QAAA,IAAAD,EAAA;UCRhCT,EAAA,CAAAW,cAAA,QAAG;UAAAX,EAAA,CAAAY,MAAA,yBAAkB;UAAAZ,EAAA,CAAAa,YAAA,EAAI","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}